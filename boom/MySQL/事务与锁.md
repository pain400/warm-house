## ACID
1. Atomicity：原子性
2. Consistency：一致性
3. Isolation：隔离性
4. Durability：持久性

## 隔离级别
### READ UNCOMMITED
1. 事务在读数据的时候并未对数据加锁，在修改数据的时候只对数据增加行级共享锁

### READ COMMITED
1. 避免脏读
2. 事务对当前被读取的数据加行级共享锁（当读到时才加锁），一旦读完该行，立即释放该行级共享锁
3. 事务在更新某数据的瞬间（就是发生更新的瞬间），必须先对其加 行级排他锁，直到事务结束才释放

### REPEATABLE READ
1. 避免脏读
2. 避免不可重复读
3. mysql 默认隔离级别
4. 事务在读取某数据的瞬间（就是开始读取的瞬间），必须先对其加 行级共享锁，直到事务结束才释放
5. 事务在更新某数据的瞬间（就是发生更新的瞬间），必须先对其加 行级排他锁，直到事务结束才释放

### SERIALIZABLE
1. 避免脏读
2. 避免不可重复读
3. 避免虚读
4. 事务在读取数据时，必须先对其加表级共享锁，直到事务结束才释放
5. 事务在更新数据时，必须先对其加表级排他锁，直到事务结束才释放

### 查看隔离级别
```sql
select @@tx_isolation;
```

### 设置隔离级别
```sql
set transaction isolation level read uncommitted;
```

## 锁
### 悲观锁

### 乐观锁

### 表锁

### 行锁

### 读锁/共享锁
读取操作创建的锁，其他用户可以并发读取数据，但任何事务都不能对数据进行修改（获取数据上的排他锁），直到释放所有共享锁
```sql
SELECT ... LOCK IN SHARE MODE;
```

### 写锁/排他锁
如果事务对数据加上排他锁后，则其他事务不能再对该数据添加任何类型的锁。获准排他锁的事务既能读数据，又能修改数据。对于 `insert`、`update`、`delete`，InnoDB 会自动给涉及的数据加排他锁；对于一般的 `select` 语句，InnoDB 不会加任何锁
```sql
SELECT ... FOR UPDATE;
```


