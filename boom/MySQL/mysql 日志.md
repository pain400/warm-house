## `redo log`
### 作用
确保事务的持久性，防止在发生故障的时间点，尚有脏页未写入磁盘，在重启 mysql 服务的时候，根据 `redo log` 进行重做，从而达到事务的持久性这一特性

### 内容
物理格式的日志，记录的是物理数据页面的修改的信息

### 产生
事务开始之后就产生 `redo log`，`redo log` 的落盘并不是随着事务的提交才写入的，而是在事务的执行过程中，便开始写入 `redo log` 文件中

### 释放
当对应事务的脏页写入到磁盘之后，`redo log` 的使命也就完成了，重做日志占用的空间就可以重用（被覆盖）

### 大小
重做日志有一个缓存区 `Innodb_log_buffer`，`Innodb_log_buffer` 的默认大小为 8M
```sql
show variables like 'innodb_log_buffer_size';
```

## `undo log`
### 作用
保存了事务发生之前的数据的一个版本，可以用于回滚，同时可以提供多版本并发控制下的读（MVCC），也即非锁定读

### 内容
逻辑格式的日志

### 产生
事务开始之前，将当前是的版本生成 `undo log`，`undo` 也会产生 `redo` 来保证 `undo log` 的可靠性

### 释放
当事务提交之后，`undo log` 并不能立马被删除，而是放入待清理的链表

## `binlog`
### 作用
用于复制，从库利用主库上的 `binlog` 实现主从同步；用于数据库的基于时间点的还原

### 产生
事务提交的时候，一次性将事务中的 sql 语句按照一定的格式记录到 `binlog` 中

### 释放
`binlog` 的默认是保持时间由参数 `expire_logs_days` 配置

